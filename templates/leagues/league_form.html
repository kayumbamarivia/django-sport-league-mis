{% extends 'base.html' %}

{% block content %}
<h1>{{ form.instance.pk|yesno:"Edit League,Add League" }}</h1>

<form method="POST" novalidate>
    {% csrf_token %}

    <label for="id_name">League Name:</label>
    <input type="text" name="name" id="id_name" value="{{ form.name.value }}" />
    {% if form.name.errors %}
        <p>{{ form.name.errors }}</p>
    {% endif %}

    <label for="id_start_date">Start Date:</label>
    <input type="date" name="start_date" id="id_start_date" value="{{ form.start_date.value }}" />
    {% if form.start_date.errors %}
        <p>{{ form.start_date.errors }}</p>
    {% endif %}

    <label for="id_end_date">End Date:</label>
    <input type="date" name="end_date" id="id_end_date" value="{{ form.end_date.value }}" />
    {% if form.end_date.errors %}
        <p>{{ form.end_date.errors }}</p>
    {% endif %}

    <label for="id_teams">Teams:</label>
    <select name="teams" id="id_teams" multiple>
        {% for team in form.teams.field.choices %}
            <option value="{{ team.0 }}" {% if team.0 in form.teams.value %}selected{% endif %}>
                {{ team.1 }}
            </option>
        {% endfor %}
    </select>
    <small>{{ form.teams.help_text }}</small>
    {% if form.teams.errors %}
        <p>{{ form.teams.errors }}</p>
    {% endif %}

    <div class="form-buttons">
        <button type="submit">Save</button>
        <a href="/leagues">Cancel</a>
    </div>
</form>
{% endblock %}
